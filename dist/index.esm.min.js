var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(n,t,e){return n(e={path:t,exports:{},require:function(n,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&e.path)}},e.exports),e.exports}var e=function(n){return n&&n.Math==Math&&n},r=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof n&&n)||Function("return this")(),i=function(n){try{return!!n()}catch(n){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s={f:a&&!c.call({1:2},1)?function(n){var t=a(this,n);return!!t&&t.enumerable}:c},l=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}},u={}.toString,p=function(n){return u.call(n).slice(8,-1)},f="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(n){return"String"==p(n)?f.call(n,""):Object(n)}:Object,h=function(n){if(null==n)throw TypeError("Can't call method on "+n);return n},A=function(n){return d(h(n))},g=function(n){return"object"==typeof n?null!==n:"function"==typeof n},v=function(n,t){if(!g(n))return n;var e,r;if(t&&"function"==typeof(e=n.toString)&&!g(r=e.call(n)))return r;if("function"==typeof(e=n.valueOf)&&!g(r=e.call(n)))return r;if(!t&&"function"==typeof(e=n.toString)&&!g(r=e.call(n)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,y=function(n,t){return m.call(n,t)},b=r.document,C=g(b)&&g(b.createElement),x=function(n){return C?b.createElement(n):{}},E=!o&&!i((function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})),w=Object.getOwnPropertyDescriptor,S={f:o?w:function(n,t){if(n=A(n),t=v(t,!0),E)try{return w(n,t)}catch(n){}if(y(n,t))return l(!s.f.call(n,t),n[t])}},O=function(n){if(!g(n))throw TypeError(String(n)+" is not an object");return n},_=Object.defineProperty,I={f:o?_:function(n,t,e){if(O(n),t=v(t,!0),O(e),E)try{return _(n,t,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(n[t]=e.value),n}},R=o?function(n,t,e){return I.f(n,t,l(1,e))}:function(n,t,e){return n[t]=e,n},P=function(n,t){try{R(r,n,t)}catch(e){r[n]=t}return t},T=r["__core-js_shared__"]||P("__core-js_shared__",{}),B=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(n){return B.call(n)});var N,k,j,F=T.inspectSource,L=r.WeakMap,$="function"==typeof L&&/native code/.test(F(L)),D=t((function(n){(n.exports=function(n,t){return T[n]||(T[n]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),M=0,q=Math.random(),U=function(n){return"Symbol("+String(void 0===n?"":n)+")_"+(++M+q).toString(36)},V=D("keys"),z=function(n){return V[n]||(V[n]=U(n))},Y={},K=r.WeakMap;if($){var W=new K,G=W.get,X=W.has,J=W.set;N=function(n,t){return J.call(W,n,t),t},k=function(n){return G.call(W,n)||{}},j=function(n){return X.call(W,n)}}else{var H=z("state");Y[H]=!0,N=function(n,t){return R(n,H,t),t},k=function(n){return y(n,H)?n[H]:{}},j=function(n){return y(n,H)}}var Q,Z,nn={set:N,get:k,has:j,enforce:function(n){return j(n)?k(n):N(n,{})},getterFor:function(n){return function(t){var e;if(!g(t)||(e=k(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},tn=t((function(n){var t=nn.get,e=nn.enforce,i=String(String).split("String");(n.exports=function(n,t,o,c){var a=!!c&&!!c.unsafe,s=!!c&&!!c.enumerable,l=!!c&&!!c.noTargetGet;"function"==typeof o&&("string"!=typeof t||y(o,"name")||R(o,"name",t),e(o).source=i.join("string"==typeof t?t:"")),n!==r?(a?!l&&n[t]&&(s=!0):delete n[t],s?n[t]=o:R(n,t,o)):s?n[t]=o:P(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||F(this)}))})),en=r,rn=function(n){return"function"==typeof n?n:void 0},on=function(n,t){return arguments.length<2?rn(en[n])||rn(r[n]):en[n]&&en[n][t]||r[n]&&r[n][t]},cn=Math.ceil,an=Math.floor,sn=function(n){return isNaN(n=+n)?0:(n>0?an:cn)(n)},ln=Math.min,un=function(n){return n>0?ln(sn(n),9007199254740991):0},pn=Math.max,fn=Math.min,dn=function(n){return function(t,e,r){var i,o=A(t),c=un(o.length),a=function(n,t){var e=sn(n);return e<0?pn(e+t,0):fn(e,t)}(r,c);if(n&&e!=e){for(;c>a;)if((i=o[a++])!=i)return!0}else for(;c>a;a++)if((n||a in o)&&o[a]===e)return n||a||0;return!n&&-1}},hn={includes:dn(!0),indexOf:dn(!1)}.indexOf,An=function(n,t){var e,r=A(n),i=0,o=[];for(e in r)!y(Y,e)&&y(r,e)&&o.push(e);for(;t.length>i;)y(r,e=t[i++])&&(~hn(o,e)||o.push(e));return o},gn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vn=gn.concat("length","prototype"),mn={f:Object.getOwnPropertyNames||function(n){return An(n,vn)}},yn={f:Object.getOwnPropertySymbols},bn=on("Reflect","ownKeys")||function(n){var t=mn.f(O(n)),e=yn.f;return e?t.concat(e(n)):t},Cn=function(n,t){for(var e=bn(t),r=I.f,i=S.f,o=0;o<e.length;o++){var c=e[o];y(n,c)||r(n,c,i(t,c))}},xn=/#|\.prototype\./,En=function(n,t){var e=Sn[wn(n)];return e==_n||e!=On&&("function"==typeof t?i(t):!!t)},wn=En.normalize=function(n){return String(n).replace(xn,".").toLowerCase()},Sn=En.data={},On=En.NATIVE="N",_n=En.POLYFILL="P",In=En,Rn=S.f,Pn=function(n,t){var e,i,o,c,a,s=n.target,l=n.global,u=n.stat;if(e=l?r:u?r[s]||P(s,{}):(r[s]||{}).prototype)for(i in t){if(c=t[i],o=n.noTargetGet?(a=Rn(e,i))&&a.value:e[i],!In(l?i:s+(u?".":"#")+i,n.forced)&&void 0!==o){if(typeof c==typeof o)continue;Cn(c,o)}(n.sham||o&&o.sham)&&R(c,"sham",!0),tn(e,i,c,n)}},Tn=function(n){if("function"!=typeof n)throw TypeError(String(n)+" is not a function");return n},Bn=function(n){return Object(h(n))},Nn=Array.isArray||function(n){return"Array"==p(n)},kn=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),jn=kn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Fn=D("wks"),Ln=r.Symbol,$n=jn?Ln:Ln&&Ln.withoutSetter||U,Dn=function(n){return y(Fn,n)||(kn&&y(Ln,n)?Fn[n]=Ln[n]:Fn[n]=$n("Symbol."+n)),Fn[n]},Mn=Dn("species"),qn=function(n,t){var e;return Nn(n)&&("function"!=typeof(e=n.constructor)||e!==Array&&!Nn(e.prototype)?g(e)&&null===(e=e[Mn])&&(e=void 0):e=void 0),new(void 0===e?Array:e)(0===t?0:t)},Un=[].push,Vn=function(n){var t=1==n,e=2==n,r=3==n,i=4==n,o=6==n,c=5==n||o;return function(a,s,l,u){for(var p,f,h=Bn(a),A=d(h),g=function(n,t,e){if(Tn(n),void 0===t)return n;switch(e){case 0:return function(){return n.call(t)};case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)}}return function(){return n.apply(t,arguments)}}(s,l,3),v=un(A.length),m=0,y=u||qn,b=t?y(a,v):e?y(a,0):void 0;v>m;m++)if((c||m in A)&&(f=g(p=A[m],m,h),n))if(t)b[m]=f;else if(f)switch(n){case 3:return!0;case 5:return p;case 6:return m;case 2:Un.call(b,p)}else if(i)return!1;return o?-1:r||i?i:b}},zn={forEach:Vn(0),map:Vn(1),filter:Vn(2),some:Vn(3),every:Vn(4),find:Vn(5),findIndex:Vn(6)},Yn=on("navigator","userAgent")||"",Kn=r.process,Wn=Kn&&Kn.versions,Gn=Wn&&Wn.v8;Gn?Z=(Q=Gn.split("."))[0]+Q[1]:Yn&&(!(Q=Yn.match(/Edge\/(\d+)/))||Q[1]>=74)&&(Q=Yn.match(/Chrome\/(\d+)/))&&(Z=Q[1]);var Xn,Jn=Z&&+Z,Hn=Dn("species"),Qn=Object.defineProperty,Zn={},nt=function(n){throw n},tt=function(n,t){if(y(Zn,n))return Zn[n];t||(t={});var e=[][n],r=!!y(t,"ACCESSORS")&&t.ACCESSORS,c=y(t,0)?t[0]:nt,a=y(t,1)?t[1]:void 0;return Zn[n]=!!e&&!i((function(){if(r&&!o)return!0;var n={length:-1};r?Qn(n,1,{enumerable:!0,get:nt}):n[1]=1,e.call(n,c,a)}))},et=zn.filter,rt=(Xn="filter",Jn>=51||!i((function(){var n=[];return(n.constructor={})[Hn]=function(){return{foo:1}},1!==n[Xn](Boolean).foo}))),it=tt("filter");Pn({target:"Array",proto:!0,forced:!rt||!it},{filter:function(n){return et(this,n,arguments.length>1?arguments[1]:void 0)}});var ot=function(n){return function(t,e,r,i){Tn(e);var o=Bn(t),c=d(o),a=un(o.length),s=n?a-1:0,l=n?-1:1;if(r<2)for(;;){if(s in c){i=c[s],s+=l;break}if(s+=l,n?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;n?s>=0:a>s;s+=l)s in c&&(i=e(i,c[s],s,o));return i}},ct={left:ot(!1),right:ot(!0)}.left,at=function(n,t){var e=[][n];return!!e&&i((function(){e.call(null,t||function(){throw 1},1)}))}("reduce"),st=tt("reduce",{1:0});Pn({target:"Array",proto:!0,forced:!at||!st},{reduce:function(n){return ct(this,n,arguments.length,arguments.length>1?arguments[1]:void 0)}});var lt,ut=Object.setPrototypeOf||("__proto__"in{}?function(){var n,t=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),t=e instanceof Array}catch(n){}return function(e,r){return O(e),function(n){if(!g(n)&&null!==n)throw TypeError("Can't set "+String(n)+" as a prototype")}(r),t?n.call(e,r):e.__proto__=r,e}}():void 0),pt=function(n,t,e){var r,i;return ut&&"function"==typeof(r=t.constructor)&&r!==e&&g(i=r.prototype)&&i!==e.prototype&&ut(n,i),n},ft=Object.keys||function(n){return An(n,gn)},dt=o?Object.defineProperties:function(n,t){O(n);for(var e,r=ft(t),i=r.length,o=0;i>o;)I.f(n,e=r[o++],t[e]);return n},ht=on("document","documentElement"),At=z("IE_PROTO"),gt=function(){},vt=function(n){return"<script>"+n+"<\/script>"},mt=function(){try{lt=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var n,t;mt=lt?function(n){n.write(vt("")),n.close();var t=n.parentWindow.Object;return n=null,t}(lt):((t=x("iframe")).style.display="none",ht.appendChild(t),t.src=String("javascript:"),(n=t.contentWindow.document).open(),n.write(vt("document.F=Object")),n.close(),n.F);for(var e=gn.length;e--;)delete mt.prototype[gn[e]];return mt()};Y[At]=!0;var yt=Object.create||function(n,t){var e;return null!==n?(gt.prototype=O(n),e=new gt,gt.prototype=null,e[At]=n):e=mt(),void 0===t?e:dt(e,t)},bt="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Ct=RegExp("^"+bt+bt+"*"),xt=RegExp(bt+bt+"*$"),Et=function(n){return function(t){var e=String(h(t));return 1&n&&(e=e.replace(Ct,"")),2&n&&(e=e.replace(xt,"")),e}},wt={start:Et(1),end:Et(2),trim:Et(3)},St=mn.f,Ot=S.f,_t=I.f,It=wt.trim,Rt=r.Number,Pt=Rt.prototype,Tt="Number"==p(yt(Pt)),Bt=function(n){var t,e,r,i,o,c,a,s,l=v(n,!1);if("string"==typeof l&&l.length>2)if(43===(t=(l=It(l)).charCodeAt(0))||45===t){if(88===(e=l.charCodeAt(2))||120===e)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(c=(o=l.slice(2)).length,a=0;a<c;a++)if((s=o.charCodeAt(a))<48||s>i)return NaN;return parseInt(o,r)}return+l};if(In("Number",!Rt(" 0o1")||!Rt("0b1")||Rt("+0x1"))){for(var Nt,kt=function(n){var t=arguments.length<1?0:n,e=this;return e instanceof kt&&(Tt?i((function(){Pt.valueOf.call(e)})):"Number"!=p(e))?pt(new Rt(Bt(t)),e,kt):Bt(t)},jt=o?St(Rt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ft=0;jt.length>Ft;Ft++)y(Rt,Nt=jt[Ft])&&!y(kt,Nt)&&_t(kt,Nt,Ot(Rt,Nt));kt.prototype=Pt,Pt.constructor=kt,tn(r,"Number",kt)}var Lt=Dn("match"),$t=function(){var n=O(this),t="";return n.global&&(t+="g"),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.dotAll&&(t+="s"),n.unicode&&(t+="u"),n.sticky&&(t+="y"),t};function Dt(n,t){return RegExp(n,t)}var Mt={UNSUPPORTED_Y:i((function(){var n=Dt("a","y");return n.lastIndex=2,null!=n.exec("abcd")})),BROKEN_CARET:i((function(){var n=Dt("^r","gy");return n.lastIndex=2,null!=n.exec("str")}))},qt=Dn("species"),Ut=I.f,Vt=mn.f,zt=nn.set,Yt=Dn("match"),Kt=r.RegExp,Wt=Kt.prototype,Gt=/a/g,Xt=/a/g,Jt=new Kt(Gt)!==Gt,Ht=Mt.UNSUPPORTED_Y;if(o&&In("RegExp",!Jt||Ht||i((function(){return Xt[Yt]=!1,Kt(Gt)!=Gt||Kt(Xt)==Xt||"/a/i"!=Kt(Gt,"i")})))){for(var Qt=function(n,t){var e,r,i,o=this instanceof Qt,c=g(e=n)&&(void 0!==(r=e[Lt])?!!r:"RegExp"==p(e)),a=void 0===t;if(!o&&c&&n.constructor===Qt&&a)return n;Jt?c&&!a&&(n=n.source):n instanceof Qt&&(a&&(t=$t.call(n)),n=n.source),Ht&&(i=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=pt(Jt?new Kt(n,t):Kt(n,t),o?this:Wt,Qt);return Ht&&i&&zt(s,{sticky:i}),s},Zt=function(n){n in Qt||Ut(Qt,n,{configurable:!0,get:function(){return Kt[n]},set:function(t){Kt[n]=t}})},ne=Vt(Kt),te=0;ne.length>te;)Zt(ne[te++]);Wt.constructor=Qt,Qt.prototype=Wt,tn(r,"RegExp",Qt)}!function(n){var t=on(n),e=I.f;o&&t&&!t[qt]&&e(t,qt,{configurable:!0,get:function(){return this}})}("RegExp");var ee=RegExp.prototype.exec,re=String.prototype.replace,ie=ee,oe=function(){var n=/a/,t=/b*/g;return ee.call(n,"a"),ee.call(t,"a"),0!==n.lastIndex||0!==t.lastIndex}(),ce=Mt.UNSUPPORTED_Y||Mt.BROKEN_CARET,ae=void 0!==/()??/.exec("")[1];(oe||ae||ce)&&(ie=function(n){var t,e,r,i,o=this,c=ce&&o.sticky,a=$t.call(o),s=o.source,l=0,u=n;return c&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),u=String(n).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==n[o.lastIndex-1])&&(s="(?: "+s+")",u=" "+u,l++),e=new RegExp("^(?:"+s+")",a)),ae&&(e=new RegExp("^"+s+"$(?!\\s)",a)),oe&&(t=o.lastIndex),r=ee.call(c?e:o,u),c?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:oe&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),ae&&r&&r.length>1&&re.call(r[0],e,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var se=ie;Pn({target:"RegExp",proto:!0,forced:/./.exec!==se},{exec:se});var le=RegExp.prototype,ue=le.toString,pe=i((function(){return"/a/b"!=ue.call({source:"a",flags:"b"})})),fe="toString"!=ue.name;(pe||fe)&&tn(RegExp.prototype,"toString",(function(){var n=O(this),t=String(n.source),e=n.flags;return"/"+t+"/"+String(void 0===e&&n instanceof RegExp&&!("flags"in le)?$t.call(n):e)}),{unsafe:!0});var de=Dn("species"),he=!i((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")})),Ae="$0"==="a".replace(/./,"$0"),ge=Dn("replace"),ve=!!/./[ge]&&""===/./[ge]("a","$0"),me=!i((function(){var n=/(?:)/,t=n.exec;n.exec=function(){return t.apply(this,arguments)};var e="ab".split(n);return 2!==e.length||"a"!==e[0]||"b"!==e[1]})),ye=function(n){return function(t,e){var r,i,o=String(h(t)),c=sn(e),a=o.length;return c<0||c>=a?n?"":void 0:(r=o.charCodeAt(c))<55296||r>56319||c+1===a||(i=o.charCodeAt(c+1))<56320||i>57343?n?o.charAt(c):r:n?o.slice(c,c+2):i-56320+(r-55296<<10)+65536}},be={codeAt:ye(!1),charAt:ye(!0)}.charAt,Ce=function(n,t,e){return t+(e?be(n,t).length:1)},xe=function(n,t){var e=n.exec;if("function"==typeof e){var r=e.call(n,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==p(n))throw TypeError("RegExp#exec called on incompatible receiver");return se.call(n,t)};!function(n,t,e,r){var o=Dn(n),c=!i((function(){var t={};return t[o]=function(){return 7},7!=""[n](t)})),a=c&&!i((function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[de]=function(){return e},e.flags="",e[o]=/./[o]),e.exec=function(){return t=!0,null},e[o](""),!t}));if(!c||!a||"replace"===n&&(!he||!Ae||ve)||"split"===n&&!me){var s=/./[o],l=e(o,""[n],(function(n,t,e,r,i){return t.exec===se?c&&!i?{done:!0,value:s.call(t,e,r)}:{done:!0,value:n.call(e,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ae,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ve}),u=l[0],p=l[1];tn(String.prototype,n,u),tn(RegExp.prototype,o,2==t?function(n,t){return p.call(n,this,t)}:function(n){return p.call(n,this)})}r&&R(RegExp.prototype[o],"sham",!0)}("match",1,(function(n,t,e){return[function(t){var e=h(this),r=null==t?void 0:t[n];return void 0!==r?r.call(t,e):new RegExp(t)[n](String(e))},function(n){var r=e(t,n,this);if(r.done)return r.value;var i=O(n),o=String(this);if(!i.global)return xe(i,o);var c=i.unicode;i.lastIndex=0;for(var a,s=[],l=0;null!==(a=xe(i,o));){var u=String(a[0]);s[l]=u,""===u&&(i.lastIndex=Ce(o,un(i.lastIndex),c)),l++}return 0===l?null:s}]}));var Ee={props:{closeOnSelect:{type:Boolean,required:!1,default:function(){return!0}},disableSearch:{type:Boolean,required:!1,default:function(){return!1}},label:{type:String,required:!1,default:function(){return"label"}},minChars:{type:Number,required:!1,default:function(){return 3}},options:{type:Array,required:!1,default:function(){return[]}},placeholder:{type:String,required:!1,default:function(){return"Search..."}},showList:{type:Boolean,required:!1,default:function(){return!0}},tabCompletion:{type:Boolean,required:!1,default:function(){return!0}}},data:function(){return{currentSearch:"",listPosition:-1,isOpenList:!0,isInputFocused:!1}},computed:{completion:function(){var n=this,t=new RegExp("^(".concat(this.currentSearch,")(.+)"),"i");return this.options.reduce((function(e,r){var i=r[n.label].match(t);return""===n.currentSearch?"":""==e&&i||i&&r.length<e.length?i[2]:e}),"")},filteredOptions:function(){var n=this,t=new RegExp("^".concat(this.currentSearch),"i"),e=this.options.filter((function(e){return e[n.label].match(t)}));return this.disableSearch?this.options:e}},methods:{focusInput:function(){var n=this.$refs.input;if(""!==this.currentSearch){var t=document.createRange(),e=window.getSelection(),r=n.childNodes[0];t.setStart(r,r.textContent.length),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}n.focus()},getTextContent:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$refs.input;return n.textContent},runSpecialKeys:function(n){"Tab"===n.code&&this.tabCompletion?(n.preventDefault(),this.currentSearch+=this.completion,this.setTextContent(this.currentSearch),this.focusInput()):"ArrowDown"===n.code?(n.preventDefault(),this.listPosition<this.filteredOptions.length-1&&(this.listPosition+=1)):"ArrowUp"===n.code?(n.preventDefault(),this.listPosition>-1&&(this.listPosition-=1)):"Enter"===n.code&&(n.preventDefault(),this.listPosition>-1?this.selectCurrentOption():this.triggerSearch())},selectCurrentOption:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filteredOptions[this.listPosition];this.currentSearch=n[this.label],this.setTextContent(this.currentSearch),this.listPosition=-1,this.$emit("selected",n),this.isOpenList=!this.closeOnSelect,this.focusInput()},setTextContent:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$refs.input;t.textContent=n},triggerSearch:function(){this.$emit("searched",this.currentSearch),this.isOpenList=!this.closeOnSelect},updateValue:function(n){var t=n.target,e=this.getTextContent(t);this.currentSearch=e,this.isOpenList=!0}}};function we(n,t,e,r,i,o,c,a,s,l){"boolean"!=typeof c&&(s=a,a=c,c=!1);const u="function"==typeof e?e.options:e;let p;if(n&&n.render&&(u.render=n.render,u.staticRenderFns=n.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(p=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,s(n)),n&&n._registeredComponents&&n._registeredComponents.add(o)},u._ssrRegister=p):t&&(p=c?function(n){t.call(this,l(n,this.$root.$options.shadowRoot))}:function(n){t.call(this,a(n))}),p)if(u.functional){const n=u.render;u.render=function(t,e){return p.call(e),n(t,e)}}else{const n=u.beforeCreate;u.beforeCreate=n?[].concat(n,p):[p]}return e}const Se="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function Oe(n){return(n,t)=>function(n,t){const e=Se?t.media||"default":n,r=Ie[e]||(Ie[e]={ids:new Set,styles:[]});if(!r.ids.has(n)){r.ids.add(n);let e=t.source;if(t.map&&(e+="\n/*# sourceURL="+t.map.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===_e&&(_e=document.head||document.getElementsByTagName("head")[0]),_e.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(e),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const n=r.ids.size-1,t=document.createTextNode(e),i=r.element.childNodes;i[n]&&r.element.removeChild(i[n]),i.length?r.element.insertBefore(t,i[n]):r.element.appendChild(t)}}}(n,t)}let _e;const Ie={};const Re=Ee;var Pe=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"om-root"},[e("div",{staticClass:"om-search-container",class:{"om-has-focus":n.isInputFocused}},[e("button",{staticClass:"om-search",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),n.triggerSearch(t)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M15.7 13.3l-3.81-3.83A5.93 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"}})])]),n._v(" "),e("div",{ref:"input",staticClass:"om-input single-line",class:{"width--auto":n.isInputFocused,"width--start":n.isInputFocused&&0===n.currentSearch.length,"width--full":!n.isInputFocused&&n.currentSearch.length>0},attrs:{contenteditable:"true"},on:{input:function(t){return t.stopPropagation(),n.updateValue(t)},keydown:function(t){return t.stopPropagation(),n.runSpecialKeys(t)},focusin:function(t){n.isInputFocused=!0},focusout:function(t){n.isInputFocused=!1}}}),n._v(" "),0!==n.currentSearch.length||n.isInputFocused?n._e():e("span",{staticClass:"om-placeholder",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.focusInput(t)}}},[n._v(n._s(n.placeholder))]),n._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:n.isInputFocused,expression:"isInputFocused"}],staticClass:"om-completion",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.focusInput(t)}}},[n._v(n._s(n.completion))])]),n._v(" "),e("div",{staticClass:"om-list-container"},[n.currentSearch.length>=n.minChars&&n.showList&&n.isOpenList&&n.filteredOptions.length>0&&n.isInputFocused?e("div",{staticClass:"om-list"},n._l(n.filteredOptions,(function(t,r){return e("div",{key:t[n.label],staticClass:"om-list-item",class:{"om-highlight":r===n.listPosition},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),n.selectCurrentOption(t)}}},[n._t("option",[n._v("\n          "+n._s(t[n.label])+"\n        ")],{option:t})],2)})),0):n._e()])])};Pe._withStripped=!0;const Te=we({render:Pe,staticRenderFns:[]},(function(n){n&&n("data-v-7e5e7c94_0",{source:'\n*[data-v-7e5e7c94] {\n  box-sizing: border-box;\n}\n.om-root[data-v-7e5e7c94] {\n  position: relative;\n}\n.om-input[data-v-7e5e7c94] {\n  display: inline-block;\n  height: 28px;\n  vertical-align: middle;\n  line-height: 28px;\n}\n.om-input[data-v-7e5e7c94]:focus {\n  border: none;\n  outline: none;\n}\n.om-completion[data-v-7e5e7c94] {\n  height: 100%;\n  width: auto;\n  max-width: 100%;\n  color: lightgray;\n  overflow: hidden;\n  line-height: 28px;\n  white-space: pre;\n}\n[contenteditable="true"].single-line[data-v-7e5e7c94] {\n  white-space: pre;\n  overflow: hidden;\n}\n[contenteditable="true"].single-line br[data-v-7e5e7c94] {\n  display:none;\n}\n[contenteditable="true"].single-line *[data-v-7e5e7c94] {\n  display:inline;\n  white-space:nowrap;\n}\n.width--auto[data-v-7e5e7c94] {\n  width: auto;\n  max-width: calc(100% - 35px);\n}\n.width--full[data-v-7e5e7c94] {\n  width: calc(100% - 35px);\n}\n.width--start[data-v-7e5e7c94] {\n  min-width: 10px;\n}\n.om-placeholder[data-v-7e5e7c94] {\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  line-height: 28px;\n  color: darkgray;\n}\n.om-list-container[data-v-7e5e7c94] {\n  position: relative;\n}\n.om-list[data-v-7e5e7c94] {\n  position: absolute;\n  width: 100%;\n  border-left: 1px solid lightgray;\n  border-right: 1px solid lightgray;\n  border-bottom: 1px solid lightgray;\n  padding: 4px 8px;\n  background-color: white;\n  z-index: 1001;\n}\n.om-highlight[data-v-7e5e7c94] {\n  background-color: lightgrey;\n}\n.om-list-item[data-v-7e5e7c94] {\n  font-weight: 500;\n  cursor: pointer;\n}\n.om-list-item[data-v-7e5e7c94]:hover {\n  background-color: lightgray;\n}\n.om-search[data-v-7e5e7c94] {\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n}\n.om-search-container[data-v-7e5e7c94] {\n  border: 1px solid lightgray;\n  display: flex;\n  padding: 4px 8px;\n  border-radius: 3px;\n}\n.om-has-focus[data-v-7e5e7c94] {\n  border: 2px solid navy;\n}\n',map:{version:3,sources:["/home/mathis/Development/vue-omnibox/src/Omnibox.vue"],names:[],mappings:";AAsLA;EACA,sBAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,qBAAA;EACA,YAAA;EACA,sBAAA;EACA,iBAAA;AACA;AAEA;EACA,YAAA;EACA,aAAA;AACA;AACA;EACA,YAAA;EACA,WAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,iBAAA;EACA,gBAAA;AACA;AACA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,YAAA;AAEA;AACA;EACA,cAAA;EACA,kBAAA;AACA;AAEA;EACA,WAAA;EACA,4BAAA;AACA;AAEA;EACA,wBAAA;AACA;AAEA;EACA,eAAA;AACA;AAEA;EACA,qBAAA;EACA,YAAA;EACA,WAAA;EACA,iBAAA;EACA,eAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,kBAAA;EACA,WAAA;EACA,gCAAA;EACA,iCAAA;EACA,kCAAA;EACA,gBAAA;EACA,uBAAA;EACA,aAAA;AACA;AACA;EACA,2BAAA;AACA;AACA;EACA,gBAAA;EACA,eAAA;AACA;AAEA;EACA,2BAAA;AACA;AAEA;EACA,sBAAA;EACA,6BAAA;EACA,YAAA;AACA;AAEA;EACA,2BAAA;EACA,aAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,sBAAA;AACA",file:"Omnibox.vue",sourcesContent:['<template>\n  <div class="om-root">\n    <div\n      class="om-search-container"\n      :class="{ \'om-has-focus\': isInputFocused }">\n      <button type="button" class="om-search" @click.prevent="triggerSearch">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>\n      </button>\n      <div\n        ref="input"\n        class="om-input single-line"\n        :class="{\n          \'width--auto\': isInputFocused,\n          \'width--start\': isInputFocused && currentSearch.length === 0,\n          \'width--full\': !isInputFocused && currentSearch.length > 0 }"\n        contenteditable="true"\n        @input.stop="updateValue"\n        @keydown.stop="runSpecialKeys"\n        @focusin="isInputFocused = true"\n        @focusout="isInputFocused = false">\n      </div>\n      <span\n        v-if="currentSearch.length === 0 && !isInputFocused"\n        @click.stop.prevent="focusInput"\n        class="om-placeholder">{{ placeholder }}</span>\n      <span\n        v-show="isInputFocused"\n        class="om-completion"\n        @click.stop.prevent="focusInput">{{ completion }}</span>\n    </div>\n    <div class="om-list-container">\n      <div class="om-list" v-if="currentSearch.length >= minChars && showList && isOpenList && filteredOptions.length > 0 && isInputFocused">\n        <div\n          v-for="(option, idx) in filteredOptions"\n          class="om-list-item"\n          :class="{ \'om-highlight\': idx === listPosition }"\n          :key="option[label]"\n          @mousedown.stop.prevent="selectCurrentOption(option)">\n          <slot name="option" v-bind:option="option">\n            {{ option[label] }}\n          </slot>\n        </div>\n    </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    closeOnSelect: {\n      type: Boolean,\n      required: false,\n      default: () => true\n    },\n    disableSearch: {\n      type: Boolean,\n      required: false,\n      default: () => false\n    },\n    label: {\n      type: String,\n      required: false,\n      default: () => \'label\'\n    },\n    minChars: {\n      type: Number,\n      required: false,\n      default: () => 3\n    },\n    options: {\n      type: Array,\n      required: false,\n      default: () => ([])\n    },\n    placeholder: {\n      type: String,\n      required: false,\n      default: () => \'Search...\'\n    },\n    showList: {\n      type: Boolean,\n      required: false,\n      default: () => true\n    },\n    tabCompletion: {\n      type: Boolean,\n      required: false,\n      default: () => true\n    }\n  },\n  data () {\n    return {\n      currentSearch: \'\',\n      listPosition: -1,\n      isOpenList: true,\n      isInputFocused: false\n    }\n  },\n  computed: {\n    completion () {\n      const reg = new RegExp(`^(${this.currentSearch})(.+)`, \'i\')\n      return this.options.reduce((acc, val) => {\n        const isMatching = val[this.label].match(reg)\n        if (this.currentSearch === \'\') return \'\'\n        if (acc == \'\' && isMatching) return isMatching[2]\n        if (isMatching && val.length < acc.length) return isMatching[2]\n        return acc\n      }, \'\')\n    },\n    filteredOptions () {\n      const reg = new RegExp(`^${this.currentSearch}`, \'i\')\n      const filtered = this.options.filter(o => o[this.label].match(reg))\n      return this.disableSearch ? this.options : filtered\n    }\n  },\n  methods: {\n    focusInput () {\n      const el = this.$refs.input\n      if (this.currentSearch !== \'\') {\n        let range = document.createRange()\n        let sel = window.getSelection()\n        let node = el.childNodes[0]\n        range.setStart(node, node.textContent.length)\n        range.collapse(true)\n        sel.removeAllRanges()\n        sel.addRange(range)\n      }\n      el.focus()\n    },\n    getTextContent (el = this.$refs.input) {\n      return el.textContent\n    },\n    runSpecialKeys (e) {\n      if (e.code === \'Tab\' && this.tabCompletion) {\n        e.preventDefault()\n        this.currentSearch += this.completion\n        this.setTextContent(this.currentSearch)\n        this.focusInput()\n      } else if (e.code === \'ArrowDown\') {\n        e.preventDefault()\n        if (this.listPosition < this.filteredOptions.length - 1) {\n          this.listPosition += 1\n        }\n      } else if (e.code === "ArrowUp") {\n          e.preventDefault()\n          if (this.listPosition > -1) {\n            this.listPosition -= 1\n          }\n      } else if (e.code === \'Enter\') {\n        e.preventDefault()\n        if (this.listPosition > -1) {\n          this.selectCurrentOption()\n        } else {\n          this.triggerSearch()\n        }\n      }\n    },\n    selectCurrentOption (option = this.filteredOptions[this.listPosition]) {\n      this.currentSearch = option[this.label]\n      this.setTextContent(this.currentSearch)\n      this.listPosition = -1\n      this.$emit(\'selected\', option)\n      this.isOpenList = !this.closeOnSelect\n      this.focusInput()\n    },\n    setTextContent (value, el = this.$refs.input) {\n      el.textContent = value\n    },\n    triggerSearch () {\n      this.$emit(\'searched\', this.currentSearch)\n      this.isOpenList = !this.closeOnSelect\n    },\n    updateValue (e) {\n      const el = e.target\n      const content = this.getTextContent(el)\n      this.currentSearch = content\n      this.isOpenList = true\n    }\n  }\n}\n<\/script>\n<style scoped>\n  * {\n    box-sizing: border-box;\n  }\n  .om-root {\n    position: relative;\n  }\n  .om-input {\n    display: inline-block;\n    height: 28px;\n    vertical-align: middle;\n    line-height: 28px;\n  }\n\n  .om-input:focus {\n    border: none;\n    outline: none;\n  }\n  .om-completion {\n    height: 100%;\n    width: auto;\n    max-width: 100%;\n    color: lightgray;\n    overflow: hidden;\n    line-height: 28px;\n    white-space: pre;\n  }\n  [contenteditable="true"].single-line {\n    white-space: pre;\n    overflow: hidden;\n  } \n  [contenteditable="true"].single-line br {\n    display:none;\n\n  }\n  [contenteditable="true"].single-line * {\n    display:inline;\n    white-space:nowrap;\n  }\n\n  .width--auto {\n    width: auto;\n    max-width: calc(100% - 35px);\n  }\n\n  .width--full {\n    width: calc(100% - 35px);\n  }\n\n  .width--start {\n    min-width: 10px;\n  }\n\n  .om-placeholder {\n    display: inline-block;\n    height: 100%;\n    width: 100%;\n    line-height: 28px;\n    color: darkgray;\n  }\n  .om-list-container {\n    position: relative;\n  }\n  .om-list {\n    position: absolute;\n    width: 100%;\n    border-left: 1px solid lightgray;\n    border-right: 1px solid lightgray;\n    border-bottom: 1px solid lightgray;\n    padding: 4px 8px;\n    background-color: white;\n    z-index: 1001;\n  }\n  .om-highlight {\n    background-color: lightgrey;\n  }\n  .om-list-item {\n    font-weight: 500;\n    cursor: pointer;\n  }\n\n  .om-list-item:hover {\n    background-color: lightgray;\n  }\n\n  .om-search {\n    vertical-align: middle;\n    background-color: transparent;\n    border: none;\n  }\n\n  .om-search-container {\n    border: 1px solid lightgray;\n    display: flex;\n    padding: 4px 8px;\n    border-radius: 3px;\n  }\n\n  .om-has-focus {\n    border: 2px solid navy;\n  }\n</style>\n']},media:void 0})}),Re,"data-v-7e5e7c94",!1,void 0,!1,Oe,void 0,void 0);function Be(n){Be.installed||(Be.installed=!0,n.component("Omnibox",component))}var Ne={install:Be},ke=null;"undefined"!=typeof window?ke=window.Vue:"undefined"!=typeof global&&(ke=global.Vue),ke&&ke.use(Ne);export default Te;export{Be as install};
